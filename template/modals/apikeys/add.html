<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title"><?php _e('Add API Key'); ?></h4></div>
<div class="modal-body">

    <div class="form-group">
        <label for="name"><?php _e('Name'); ?> *</label>
        <input type="text" class="form-control" id="name" name="name" required>
    </div>

    <div class="form-group">
        <label for="roleid"><?php _e('Role'); ?></label>
        <select class="form-control select2 select2-hidden-accessible" id="roleid" name="roleid" style="width: 100%;" tabindex="-1" aria-hidden="true">
            <?php foreach ($roles as $role) { ?>
                <option value='<?php echo $role['id']; ?>'><?php echo $role['name']; ?></option>
            <?php } ?>
        </select>
    </div>


    <div class="form-group">
        <label for="secretkey"><?php _e('Key'); ?> *</label>
        <div class="input-group">
            <input type="text" class="form-control passwordinput" id="secretkey" name="secretkey" required>
            <span class="input-group-btn"><button type="button" class="btn btn-default btn-flat getNewPass" data-toggle='tooltip' title='<?php _e('Generate key'); ?>'><i class="fa fa-refresh"></i></button></span>
        </div>
    </div>


    <input type="hidden" name="action" value="addApiKey">
    <input type="hidden" name="route" value="<?php echo $_GET['reroute']; ?>">
    <input type="hidden" name="routeid" value="<?php echo $_GET['routeid']; ?>">
    <input type="hidden" name="section" value="<?php echo $_GET['section']; ?>">
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-default btn-flat" data-dismiss="modal"><i class="fa fa-times"></i> <?php _e('Cancel'); ?></button>
    <button type="submit" class="btn btn-primary btn-flat"><i class="fa fa-check"></i> <?php _e('Create'); ?></button>
</div>

<script type="text/javascript">

    function generatePassword() {
        var length = 64,
        charset = "abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",
        retVal = "";
        for (var i = 0, n = charset.length; i < length; ++i) {
            retVal += charset.charAt(Math.floor(Math.random() * n));
        }
        return retVal;
    }

    $(".getNewPass").click(function(){
        $(".passwordinput").val(generatePassword());
    });

    $(".passwordinput").val(generatePassword());

	$(".select2").select2();







</script>
